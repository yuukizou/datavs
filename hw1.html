<!DOCTYPE html>
<head>
    <title>Individual Assignment</title>
    <meta charset="utf-8">


    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega/3.0.8/vega.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-lite/2.0.4/vega-lite.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-embed/3.0.0-rc7/vega-embed.js"></script>
    <link rel="stylesheet" href="hw1.css">
    <!--uncomment if you decide to use advanced tooltips-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-tooltip/0.4.4/vega-tooltip.js"></script>
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/vega-tooltip/0.4.4/vega-tooltip.css">
    <!--d3 and jquery might be helpful if you want to load data only once-->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
    <style media="screen">
        /* Add space between Vega-Embed links  */
        .vega-actions a {
            margin-right: 5px;
        }
    </style>
</head>
<body>

<!-- Container for the visualization -->
<h1>What are the bacterias that antibiotics can prevent most efficiently?</h1>
<table>
  <tr>
    <td  class="term">Minimum Inhibitory Concentration (MIC)</td>
    <td  class="term">The lowest concentration of a chemical which prevents visible growth of a bacterium. </td>
  </tr>
  <tr >
    <td  class="term">Gram Staining</td>
    <td  class="term">A common technique used to differentiate two large groups of bacteria based on their different cell wall constituents.
      The Gram stain procedure distinguishes between Gram positive and Gram negative groups by
      coloring these cells red or violet.</td>
  </tr>
</table>
<!-- <div>
    <ul>
      <li>Brucella anthracis</li>
      <li>Streptococcus hemolyticus </li>
      <li>Diplococcus pneumoniae</li>
    </ul>
</div> -->
<div style="margin: 2% 0">
<table class ="effective">
  <tr>
    <td>&#8592; More Effective&nbsp;</td>
    <td>&nbsp;|&nbsp;</td>
    <td>Less Effective&nbsp;&#8594;</td>
  </tr>
</table>
<table class ="effective">
  <tr>
    <td>&#8592; More Effective&nbsp;</td>
    <td>&nbsp;|&nbsp;</td>
    <td>Less Effective&nbsp;&#8594;</td>
  </tr>
</table>
<table class ="effective">
  <tr>
    <td>&#8592; More Effective&nbsp;</td>
    <td>&nbsp;|&nbsp;</td>
    <td>Less Effective&nbsp;&#8594;</td>
  </tr>
</table>
</div>
<!-- <section class= symbol1>
<p>&#8592; Least Effective</p>
<p>&#8594; Most Effective</p>
</section> -->
<div id="chart1"></div>
<div id="chart2"></div>
<h1>Preventing gram staining negative bacterica or positive, which is more effective?</h1>
<div id="chart3"></div>
<div id="chart4"></div>
<!-- <div id="chart5"></div>
<div id="chart5_1"></div>
<div id="chart5_2"></div>
<div id="chart6"></div> -->


<script>
var opt = {"renderer": "svg", mode: "vega-lite", actions: false};
    var width = 500;

    //chart 1
//     var spec1 = {
//   "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
//     "title": "Antibiotics Effect per Bacteria",
//   "data": {
//     "url": "a1-burtin.csv",
//     "format": {
//       "type": "csv"
//     }
//   },

//   "hconcat":[
//   {
//     "width": 220,
//     "height": 400,
//   "layer":[
//     {
//     "mark" : "bar",
//   "encoding": {
//     "y": {
//         "field": "Bacteria ",
//         "type": "nominal"

//     },
//     "x":{
//         "field": "Penicilin",
//         "type": "quantitative",
//     },
//     "color":{
//         "field": "Gram Staining ", "type": "ordinal"
//     },
//   }
// },
//     {
//     "mark": {
//         "type": "text",
//         "align": "middle",
//         "dx": 4,
//         "dy": 3
// },
//     "encoding": {
//       "y": {"field": "Bacteria ", "type": "nominal"},
//       "x": {"field": "Penicilin", "type": "quantitative"},
//       "text": {"field": "Penicilin", "type": "quantitative"},
//       "color": {
//         "value": "#1e2e40"
//       }
//     }
//   }
//   ],
// },

//     {
//     "width": 220,
//     "height": 400,
//   "layer":[
//     {
//     "mark" : "bar",
//   "encoding": {
//     "y": {
//                 "field": "Bacteria ",
//         "type": "nominal"

//     },
//     "x":{
//         "field": "Streptomycin",
//         "type": "quantitative",
//     },
//     "color":{
//         "field": "Gram Staining ", "type": "ordinal"
//     },
//   }
// },
//     {
//     "mark": {
//         "type": "text",
//         "align": "middle",
//         "dx": 4,
//         "dy": 3
// },
//     "encoding": {
//       "y": {"field": "Bacteria ", "type": "nominal"},
//       "x": {"field": "Streptomycin", "type": "quantitative"},
//       "text": {"field": "Streptomycin", "type": "quantitative"},
//       "color": {
//         "value": "#1e2e40"
//       }
//     }
//   }
//   ],
// },
//     {
//     "width": 220,
//     "height": 400,
//   "layer":[
//     {
//     "mark" : "bar",
//   "encoding": {
//     "y": {
//         "field": "Bacteria ",
//         "type": "nominal",
//         "sort": {
//             "op": "mean",
//            "order": "descending",
//            "field": "Neomycin"
//         }
//     },
//     "x":{
//         "aggregate":"mean",
//         "field": "Neomycin",
//         "type": "quantitative",
//     },
//     "color":{
//         "field": "Gram Staining ", "type": "ordinal"
//     },
//   }
// },
//     {
//     "mark": {
//         "type": "text",
//         "align": "middle",
//         "dx": 4,
//         "dy": 3
// },
//     "encoding": {
//       "y": {"field": "Bacteria ", "type": "nominal",
//       "sort": {
//             "op":"mean",
//            "field": "Neomycin",
//            "order": "descending"
//         }
//     },
//       "x":
//       { "aggregate": "mean", "field": "Neomycin", "type": "quantitative"},
//       "text": {"op":"mean", "field": "Neomycin", "type": "quantitative"},
//       "color": {
//         "value": "#1e2e40"
//       }
//     }
//   }
//   ],
// }
//   ]
// }
// vegaEmbed("#chart1", spec1, opt)




//************************Chart 2 ****************************
var spec2 = {
  "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
  "title": "Antibiotics Usage for Negative and Postive Gram Staining",
  "data": {
    "url": "a1-burtin.csv",
    "format": {
      "type": "csv"
    }
  },
  "vconcat":[
{
  width: 1000,
  height: 50,
  "encoding": {
    "y":{
        "field": "Gram Staining ",
        "type": "nominal"
    },
    "x":{
        "aggregate": "mean",
        "field" : "Penicilin",
        "type":"quantitative",
        "scale":{"type":"log"}
    }},
  "layer":[{
      "mark" : "rect",
      "encoding":{
        "y":{
            "field": "Gram Staining ",
            "type": "nominal"
        },
        "x":{
            "aggregate": "mean",
            "field" : "Penicilin",
            "scale": {"type": "log"},
            "type":"quantitative",
        },
      "color":{
        "field":"Gram Staining ", "type":"ordinal"}}
  },
  {
    "mark" : {
      "type" : "text",
      // "dx": -30,
      "baseline": "middle"},
  "encoding":{
    "y":{
        "field": "Gram Staining ",
        "type": "nominal"
    },
  "text": {"aggregate": "mean", "field": "Penicilin", "scale":{"type":"log"}, "type":"quantitative"},
  "color":{"value": "black"}}
}]
},
{
  width: 1000,
  height: 50,
  "encoding": {
    "y":{
        "field": "Gram Staining ",
        "type": "nominal"
    },
    "x":{
        "aggregate": "mean",
        "field" : "Streptomycin",
        "type":"quantitative",
        "scale":{"type":"log"}
    }},
  "layer":[{
      "mark" : "rect",
      "encoding":{
        "y":{
            "field": "Gram Staining ",
            "type": "nominal"
        },
        "x":{
            "aggregate": "mean",
            "field" : "Streptomycin",
            "scale": {"type": "log"},
            "type":"quantitative",
        },
      "color":{
        "field":"Gram Staining ", "type":"ordinal"}}
  },
  {
    "mark" : {
      "type" : "text",
      // "dx": -30,
      "baseline": "middle"},
  "encoding":{
    "y":{
        "field": "Gram Staining ",
        "type": "nominal"
    },
  "text": {"aggregate": "mean", "field": "Streptomycin", "scale":{"type":"log"}, "type":"quantitative"},
  "color":{"value": "black"}}
}]
},
{
  width: 1000,
  height: 50,
  "encoding": {
    "y":{
        "field": "Gram Staining ",
        "type": "nominal"
    },
    "x":{
        "aggregate": "mean",
         "field": "Neomycin",
         "scale":{"type":"log"},
        "type":"quantitative",
    }},
  "layer":[{
      "mark" : "rect",
      "encoding":{
        "y":{
            "field": "Gram Staining ",
            "type": "nominal"
        },
        "x":{
            "aggregate": "mean",
             "field": "Neomycin",
             "scale":{"type":"log"},
            "type":"quantitative",
        },
      "color":{
        "field":"Gram Staining ", "type":"ordinal"}}
      // "opacity": {"value": 0.8}}
  },
  {
    "mark" : {
      "type" : "text",
      "align": "right",
      "baseline": "middle",
},
  "encoding":{
    "y":{
        "field": "Gram Staining ",
        "type": "nominal"
    },
  "text": {"aggregate": "mean", "field": "Neomycin", "scale":{"type":"log"}, "type":"quantitative"}
  }
}]
}
]
}
vegaEmbed("#chart4", spec2, opt)


// ************************** Chart 3 ********************************

    var spec3 = {
  "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
  "repeat": {
    "column": [
      "Effect of Penicilin",
      "Effect of Streptomycin",
      "Effect of Neomycin"
    ]
  },
  "spec":{
      //     "title": {
      //   "text" : "Antibiotics & Most Effective Bacteria",
      //   "anchor": "middle"
      // },
"data": {
    "url": "a1-burtin.csv",
    "format": {
      "type": "csv"
    }
  },
  "width": 200,
  "height": 300,
  "mark":"rect",
  "encoding":{
    "y":{
        "field": "Bacteria ",
        "type": "nominal",
        "sort":{
            "op":"mean",
            "order":"aescending",
            "field":{
                "repeat":"column"
            }
        }
    },
    "x":{
        // "aggregate":"mean",
        "field":{
            "repeat":"column"
        },
        "type": "quantitative",
    },
    "color":{
        "field":"Gram Staining ", "type":"ordinal"
    },
     "tooltip":
     {"field":
     {"repeat":"column"
     }, "type": "quantitative"}
  }
  }
}
vegaEmbed("#chart2", spec3, opt)

//**********Chart 5**********************
//     var spec5 = {
//   "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
//       "title": "Antibiotics and Their Most Effective Bacteria",
//     "width": 1000,
//     "height": 400,
//   "data": {
//     "url": "a1-burtin.csv",
//     "format": {
//       "type": "csv"
//     }
//   },
// "selection":{
//     "grid":{
//         "type":"interval",
//         "bind":"scales",
//         "on": "[mousedown, window:mouseup] > window:mousemove!",
//       "encodings": [
//         "x",
//         "y"
//       ],
//       "translate":"[mousedown, window:mouseup] > window:mousemove!",
//       "zoom": "wheel!",
//       "mark": {
//         "fill": "#333",
//         "fillOpacity": 0.125,
//         "stroke": "white"
//       },
//       "resolve": "global"
//     }
//   },
//   "mark": "point",
//   "encoding":{
//     "y":{ "field":"Bacteria ",
//         "type":"nominal","sort":{
//             "order":"descending",
//             "op":"mean",
//             "field":"Penicilin"
//         }},
//      "x":{
//         "aggregate":"mean",
//         "field":"Penicilin",
//         "type":"quantitative"
//     }
//   }
// }
// vegaEmbed("#chart5", spec5, opt)


</script>
</body>
</html>
